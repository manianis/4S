<!DOCTYPE html>
<html lang="fr">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Série Structures Itératives</title>
  <link href="style.css" rel="stylesheet" type="text/css" />
  <link rel="stylesheet" href="scripts/sh.css">
</head>

<body onload="sh_highlightDocument();">
  <div id="container">
    <nav>
      <h1>Exercices</h1>
      <ul></ul>
      <div id="modes">
        <div class="titre">Affichage</div>
        <div id="select_mode">
          <a id="mode_all" href="#">Tout</a>
          <a id="mode_one" href="#">Un seul</a>
        </div>
      </div>
    </nav>

    <main>
      <div id="breadcrumb"><a href="#">☰</a> Série d'exercices</div>

      <h1>Série 2 : Structures itératives</h1>

      <div class="bloc">
        <h3>Exercice 1 ★</h3>

        <p>Soit l'algorithme suivant :</p>

        <pre class="sh_algo">0) Début Act1
1) Ecrire("Donner un entier : ")
   Lire(n)
2) ConvCh(n, ch)
3) [ch1 ⟵ "" ; ch2 ⟵ ""]
   Pour c de "0" à "9" Faire
     Répéter
       p ⟵ Pos(c, ch)
       si p > 0 alors
         ch1 ⟵ ch1 + c
         ch2 ⟵ c + ch2
         Effacer(ch, p, 1)
       Fin si
     Jusqu'à (p = 0)
   Fin Pour
4) Val(ch1, n1, e)
5) Val(ch2, n2, e)
6) diff ⟵ n2 - n1
7) Ecrire(n1)
   Ecrire(n2)
   Ecrire(diff)
8) Fin Act1</pre>
        <p><b>Travail demandé</b></p>

        <ol>
          <li>Dessiner le TDO relatif à l'algorithme ci-dessus.</li>
          <li>Traduire l'algorithme en Pascal.</li>
          <li>Quelles sont les valeurs des variables <b>n1</b>, <b>n2</b> et <b>diff</b> pour n = 163, et pour n = 2317
            ?</li>
          <li>Déduire la valeur des variables <b>ch1</b>, <b>ch2</b> et <b>ch</b> pour n=391, et pour n=-170 ?</li>
          <li>Modifier l'étape numéro 1 pour restreindre la valeur de n à (0 &lt; n &le; 9999).</li>
        </ol>
      </div>

      <div class="bloc">
        <h3>Exercice 2 ★</h3>

        <p>Soit l'algorithme suivant :</p>

        <pre class="sh_algo">0) Début Act2
1) n ⟵ Aléa(999) + 1
2) Ecrire("Donner une valeur [1, 999] : ")
   Lire(v)
3) si v = n alors
     Ecrire("Bravo! vous avez gagné")
   sinon si v > n alors
     Ecrire("Nombre trop grand")
   sinon 
     Ecrire("Nombre trop petit")
   fin si
4) Fin Act2</pre>
        <p><b>Travail demandé</b></p>

        <ol>
          <li>Dessiner le TDO relatif à l'algorithme ci-dessus.</li>
          <li>Traduire l'algorithme en Pascal.</li>
          <li>Améliorer le programme :
            <ul>
              <li>Limiter <b>v</b> dans l'intervalle [1, 999] (controle de la saisie);</li>
              <li>Offrir 10 tentatives (au maximum) à l'utilisateur pour deviner le nombre v;</li>
              <li>Demander à l'utilisateur s'il veut rejouer encore ou non;</li>
            </ul>
          </li>
        </ol>
      </div>

      <div class="bloc">
        <h3>Exercice 3 ★</h3>

        <p>Soit U<sub>n</sub> = (U<sub>n-1</sub> + x / U<sub>n-1</sub>) / 2, pour n > 0 et U<sub>0</sub> = x+1, x étant
          un réel positif.</p>

        <p>On démontre que la suite U<sub>n</sub> est convergente. Et on donne l'algorithme suivant : </p>

        <pre class="sh_algo">0) Début Act3
1) Ecrire("Entrer un réel x &ge; 0 : ")
   Lire(x)
2) Ecrire("Entrer un réel n &gt; 0 : ")
   Lire(n)
3) Up ⟵ x + 1
   Pour i de 1 à n Faire
     Un ⟵ (Un + x / Un) / 2
     diff ⟵ Un - Up
     Up ⟵ Un
   Fin Pour
4) Ecrire(Un)
   Ecrire(diff)
5) Fin Act3</pre>

        <p><b>Travail demandé</b></p>

        <ol>
          <li>Dessiner le TDO relatif à l'algorithme ci-dessus.</li>
          <li>Traduire l'algorithme en Pascal.</li>
          <li>Quelles sont les valeurs de <b>Un</b> et <b>diff</b> pour :
            <ul>
              <li>x = 2, n = 1</li>
              <li>x = 2, n = 3</li>
              <li>x = 2, n = 10</li>
              <li>x = 25, n = 1</li>
              <li>x = 25, n = 3</li>
              <li>x = 25, n = 10</li>
            </ul>
          </li>
          <li>Modifier les étapes 1 et 2 pour controler la saisie des variables <b>n</b> et <b>x</b>.</li>
          <li>Que fais le programme ?</li>
          <li>Modifier le programme pour afficher <b>Un</b> lorsque |U<sub>n</sub> - U<sub>n-1</sub>| &lt; 10<sup>-5</sup>, remarquez que diff = U<sub>n</sub> - U<sub>n-1</sub></li>
        </ol>
      </div>
    </main>
  </div>

  <script>
    const navlist = document.querySelector('nav>ul');
    const blocs = Array.prototype.slice.apply(document.querySelectorAll('.bloc'));
    let mode = 'one'; // 'all'
    let currBloc = blocs[0];
    const btnModeAll = document.querySelector('#mode_all');
    const btnModeOne = document.querySelector('#mode_one');
    const anchors = [];
    const linkMenu = document.querySelector('#breadcrumb a');
    const navBar = document.querySelector('nav');

    btnModeAll.onclick = function (e) {
      e.preventDefault();
      setMode('all');
    };

    btnModeOne.onclick = function (e) {
      e.preventDefault();
      setMode('one');
    };

    function setMode(newMode) {
      mode = newMode;
      btnModeAll.className = (mode === 'all') ? 'selected' : '';
      btnModeOne.className = (mode === 'one') ? 'selected' : '';
      selectExercice(currBloc);
    }

    function selectExercice(bloc) {
      let selectedAnchor = -1;
      currBloc = bloc;
      for (let i = 0; i < blocs.length; i++) {
        if (blocs[i] == bloc) {
          selectedAnchor = i;
          anchors[i].className = 'selected';
          blocs[i].style.display = 'block';
        } else {
          anchors[i].removeAttribute('class');
          blocs[i].style.display = (mode === 'one') ? 'none' : 'block';
        }
      }
      if (mode === 'all') {
        document.location.href = anchors[selectedAnchor].href;
      }
      hideNavBar();
    }

    navlist.innerHTML = '';
    for (let i = 0; i < blocs.length; i++) {
      const bloc = blocs[i];
      const head = bloc.querySelector('h3');
      const title = head.innerText;
      head.id = 'titre_' + i;

      const li = document.createElement('li');
      navlist.appendChild(li);

      const anchor = document.createElement('a');
      li.appendChild(anchor);

      anchors.push(anchor);
      anchor.innerText = title;
      anchor.href = '#' + head.id;
      anchor.onclick = function (e) {
        selectExercice(bloc);
        if (mode == 'one') {
          e.preventDefault();
        }
      };
    }

    setMode('one');

    linkMenu.onclick = function (e) {
      e.preventDefault();
      showNavbar();
    };

    function showNavbar() {
      navBar.className = 'animate';
    }

    function hideNavBar() {
      navBar.removeAttribute('class');
    }
  </script>

  <script type="text/javascript" src="scripts/jquery.js"></script>
  <script src="scripts/sh.min.js"></script>
  <script src="scripts/sh_pascal.min.js"></script>
  <script src="scripts/sh_algo.js"></script>
</body>

</html>